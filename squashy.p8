pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
--main entry point of game
function _init()
	init_paddle()
	init_ball()
	music_player()
	--init_game_state()
end

function _update()
	move_paddle()
	move_ball()
	bounce_ball()
 bounce_paddle()
 lose_dead_ball()
end

function _draw()
	cls(3)
	draw_paddle()
	draw_ball()
	--draw_ui()
end
-->8
--paddle functions
function init_paddle()
	pad = {
		x=52,
		y=122,
		w=24,
		h=4,
		s=2
	}
end

function move_paddle()
	if btn(⬅️) then 
		pad.x-=pad.s
	end
	
	if btn(➡️) then
		pad.x+=pad.s
	end
end

function draw_paddle()
	rectfill(
		pad.x,pad.y,
		pad.x+pad.w,pad.y+pad.h,
		15
		)
end

function bounce_paddle()
	if ball.x>=pad.x and
		ball.x<=pad.x+pad.w and          
		ball.y>(pad.y-pad.h) then        
		sfx(0)        
		ball.ydir=-ball.ydir
	end 
end
-->8
--ball functions
function init_ball()
	ball = {
		x=64,
		y=64,
		size=3,
		xdir=5,
		ydir=-3,
	}
end

function draw_ball()
	circfill(
	 ball.x,ball.y,ball.size,15
	)
end

function move_ball()
	ball.x+=ball.xdir
	ball.y+=ball.ydir
end

function bounce_ball()
	if ball.x<=ball.size or
					ball.x>=128-ball.size then
   		ball.xdir=-ball.xdir
   		sfx(0)
 end
	if ball.y<=ball.size then
    	ball.ydir = -ball.ydir
     sfx(0) 
 end
end

function lose_dead_ball()      
	if ball.y>128 then             
		sfx(3)             
		ball.y=24      
 end    
end
-->8
--game state functions
function music_player()
	music(0)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
0001000025050290502d0502f0503105032050310502f0502e0502a05025050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0130002011152101521115213152111521015211152151521d1521f152211521f1521d1521c1521d1521a152111521015211152131521115210152111520e1521d1521f152211521f1521d1521c1521d1521a152
011800201305500000130551305513055000001305513055130550000013055130551305500000130551305513055000000d0550d0550d055000000d0550d0550d055000000d0550d0550d055000000d0550d055
000600002715021150151500c15009150061500315003150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0118002024615000000c0530000024615000000c0530000024615000000c0530000024615000000c0530000024615000000c0530000024615000000c0530000024615000000c0530000024615000000c05300000
0118000000000000003f6153f61500000000003f6153f61500000000003f6153f61500000000003f6153f61500000000003f6153f61500000000003f6153f61500000000003f6153f61500000000003f61500000
__music__
00 01020405

